{
  "openapi": "3.0.4",
  "info": {
    "title": "Trade Imports Reporting API",
    "description": "TBC",
    "contact": {
      "name": "DEFRA",
      "url": "https://www.gov.uk/government/organisations/department-for-environment-food-rural-affairs",
      "email": "tbc@defra.gov.uk"
    },
    "version": "v1"
  },
  "servers": [
    {
      "url": "https://localhost"
    }
  ],
  "paths": {
    "/clearance-requests/summary": {
      "get": {
        "tags": [
          "Clearance Requests"
        ],
        "summary": "Get clearance requests summary",
        "description": "Searchable period is the last 31 days",
        "operationId": "ClearanceRequestsSummary",
        "parameters": [
          {
            "name": "from",
            "in": "query",
            "description": "ISO 8609 UTC only",
            "required": true,
            "schema": {
              "type": "string",
              "format": "date-time"
            },
            "example": "2025-09-10T11:08:48Z"
          },
          {
            "name": "to",
            "in": "query",
            "description": "ISO 8609 UTC only",
            "required": true,
            "schema": {
              "type": "string",
              "format": "date-time"
            },
            "example": "2025-09-11T11:08:48Z"
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ClearanceRequestsSummaryResponse"
                }
              }
            }
          },
          "400": {
            "description": "Bad Request",
            "content": {
              "application/problem+json": {
                "schema": {
                  "$ref": "#/components/schemas/ProblemDetails"
                }
              }
            }
          },
          "500": {
            "description": "Internal Server Error",
            "content": {
              "application/problem+json": {
                "schema": {
                  "$ref": "#/components/schemas/ProblemDetails"
                }
              }
            }
          }
        }
      }
    },
    "/clearance-requests/buckets": {
      "get": {
        "tags": [
          "Clearance Requests"
        ],
        "summary": "Get clearance requests buckets by day or hour",
        "description": "Searchable period is the last 31 days",
        "operationId": "ClearanceRequestsBuckets",
        "parameters": [
          {
            "name": "from",
            "in": "query",
            "description": "ISO 8609 UTC only",
            "required": true,
            "schema": {
              "type": "string",
              "format": "date-time"
            },
            "example": "2025-09-10T11:08:48Z"
          },
          {
            "name": "to",
            "in": "query",
            "description": "ISO 8609 UTC only",
            "required": true,
            "schema": {
              "type": "string",
              "format": "date-time"
            },
            "example": "2025-09-11T11:08:48Z"
          },
          {
            "name": "unit",
            "in": "query",
            "description": "\"hour\" or \"day\"",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ClearanceRequestsSummaryBucketResponseBucketResponseBucketsResponse"
                }
              }
            }
          },
          "400": {
            "description": "Bad Request",
            "content": {
              "application/problem+json": {
                "schema": {
                  "$ref": "#/components/schemas/ProblemDetails"
                }
              }
            }
          },
          "500": {
            "description": "Internal Server Error",
            "content": {
              "application/problem+json": {
                "schema": {
                  "$ref": "#/components/schemas/ProblemDetails"
                }
              }
            }
          }
        }
      }
    },
    "/matches/summary": {
      "get": {
        "tags": [
          "Decisions"
        ],
        "summary": "Get matches summary",
        "description": "Searchable period is the last 31 days",
        "operationId": "MatchesSummary",
        "parameters": [
          {
            "name": "from",
            "in": "query",
            "description": "ISO 8609 UTC only",
            "required": true,
            "schema": {
              "type": "string",
              "format": "date-time"
            },
            "example": "2025-09-10T11:08:48Z"
          },
          {
            "name": "to",
            "in": "query",
            "description": "ISO 8609 UTC only",
            "required": true,
            "schema": {
              "type": "string",
              "format": "date-time"
            },
            "example": "2025-09-11T11:08:48Z"
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/MatchesSummaryResponse"
                }
              }
            }
          },
          "400": {
            "description": "Bad Request",
            "content": {
              "application/problem+json": {
                "schema": {
                  "$ref": "#/components/schemas/ProblemDetails"
                }
              }
            }
          },
          "500": {
            "description": "Internal Server Error",
            "content": {
              "application/problem+json": {
                "schema": {
                  "$ref": "#/components/schemas/ProblemDetails"
                }
              }
            }
          }
        }
      }
    },
    "/matches/buckets": {
      "get": {
        "tags": [
          "Decisions"
        ],
        "summary": "Get matches buckets by day or hour",
        "description": "Searchable period is the last 31 days",
        "operationId": "MatchesBuckets",
        "parameters": [
          {
            "name": "from",
            "in": "query",
            "description": "ISO 8609 UTC only",
            "required": true,
            "schema": {
              "type": "string",
              "format": "date-time"
            },
            "example": "2025-09-10T11:08:48Z"
          },
          {
            "name": "to",
            "in": "query",
            "description": "ISO 8609 UTC only",
            "required": true,
            "schema": {
              "type": "string",
              "format": "date-time"
            },
            "example": "2025-09-11T11:08:48Z"
          },
          {
            "name": "unit",
            "in": "query",
            "description": "\"hour\" or \"day\"",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/MatchesSummaryResponseBucketResponseBucketsResponse"
                }
              }
            }
          },
          "400": {
            "description": "Bad Request",
            "content": {
              "application/problem+json": {
                "schema": {
                  "$ref": "#/components/schemas/ProblemDetails"
                }
              }
            }
          },
          "500": {
            "description": "Internal Server Error",
            "content": {
              "application/problem+json": {
                "schema": {
                  "$ref": "#/components/schemas/ProblemDetails"
                }
              }
            }
          }
        }
      }
    },
    "/releases/summary": {
      "get": {
        "tags": [
          "Finalisations"
        ],
        "summary": "Get releases summary",
        "description": "Searchable period is the last 31 days",
        "operationId": "ReleasesSummary",
        "parameters": [
          {
            "name": "from",
            "in": "query",
            "description": "ISO 8609 UTC only",
            "required": true,
            "schema": {
              "type": "string",
              "format": "date-time"
            },
            "example": "2025-09-10T11:08:48Z"
          },
          {
            "name": "to",
            "in": "query",
            "description": "ISO 8609 UTC only",
            "required": true,
            "schema": {
              "type": "string",
              "format": "date-time"
            },
            "example": "2025-09-11T11:08:48Z"
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ReleasesSummaryResponse"
                }
              }
            }
          },
          "400": {
            "description": "Bad Request",
            "content": {
              "application/problem+json": {
                "schema": {
                  "$ref": "#/components/schemas/ProblemDetails"
                }
              }
            }
          },
          "500": {
            "description": "Internal Server Error",
            "content": {
              "application/problem+json": {
                "schema": {
                  "$ref": "#/components/schemas/ProblemDetails"
                }
              }
            }
          }
        }
      }
    },
    "/releases/buckets": {
      "get": {
        "tags": [
          "Finalisations"
        ],
        "summary": "Get releases buckets by day or hour",
        "description": "Searchable period is the last 31 days",
        "operationId": "ReleasesBuckets",
        "parameters": [
          {
            "name": "from",
            "in": "query",
            "description": "ISO 8609 UTC only",
            "required": true,
            "schema": {
              "type": "string",
              "format": "date-time"
            },
            "example": "2025-09-10T11:08:48Z"
          },
          {
            "name": "to",
            "in": "query",
            "description": "ISO 8609 UTC only",
            "required": true,
            "schema": {
              "type": "string",
              "format": "date-time"
            },
            "example": "2025-09-11T11:08:48Z"
          },
          {
            "name": "unit",
            "in": "query",
            "description": "\"hour\" or \"day\"",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ReleasesSummaryResponseBucketResponseBucketsResponse"
                }
              }
            }
          },
          "400": {
            "description": "Bad Request",
            "content": {
              "application/problem+json": {
                "schema": {
                  "$ref": "#/components/schemas/ProblemDetails"
                }
              }
            }
          },
          "500": {
            "description": "Internal Server Error",
            "content": {
              "application/problem+json": {
                "schema": {
                  "$ref": "#/components/schemas/ProblemDetails"
                }
              }
            }
          }
        }
      }
    },
    "/summary": {
      "get": {
        "tags": [
          "General"
        ],
        "summary": "Get summary",
        "description": "Searchable period is the last 31 days",
        "operationId": "Summary",
        "parameters": [
          {
            "name": "from",
            "in": "query",
            "description": "ISO 8609 UTC only",
            "required": true,
            "schema": {
              "type": "string",
              "format": "date-time"
            },
            "example": "2025-09-10T11:08:48Z"
          },
          {
            "name": "to",
            "in": "query",
            "description": "ISO 8609 UTC only",
            "required": true,
            "schema": {
              "type": "string",
              "format": "date-time"
            },
            "example": "2025-09-11T11:08:48Z"
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/SummaryResponse"
                }
              }
            }
          },
          "400": {
            "description": "Bad Request",
            "content": {
              "application/problem+json": {
                "schema": {
                  "$ref": "#/components/schemas/ProblemDetails"
                }
              }
            }
          },
          "500": {
            "description": "Internal Server Error",
            "content": {
              "application/problem+json": {
                "schema": {
                  "$ref": "#/components/schemas/ProblemDetails"
                }
              }
            }
          }
        }
      }
    },
    "/buckets": {
      "get": {
        "tags": [
          "General"
        ],
        "summary": "Get buckets by day or hour",
        "description": "Searchable period is the last 31 days",
        "operationId": "Buckets",
        "parameters": [
          {
            "name": "from",
            "in": "query",
            "description": "ISO 8609 UTC only",
            "required": true,
            "schema": {
              "type": "string",
              "format": "date-time"
            },
            "example": "2025-09-10T11:08:48Z"
          },
          {
            "name": "to",
            "in": "query",
            "description": "ISO 8609 UTC only",
            "required": true,
            "schema": {
              "type": "string",
              "format": "date-time"
            },
            "example": "2025-09-11T11:08:48Z"
          },
          {
            "name": "unit",
            "in": "query",
            "description": "\"hour\" or \"day\"",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/BucketsResponse"
                }
              }
            }
          },
          "400": {
            "description": "Bad Request",
            "content": {
              "application/problem+json": {
                "schema": {
                  "$ref": "#/components/schemas/ProblemDetails"
                }
              }
            }
          },
          "500": {
            "description": "Internal Server Error",
            "content": {
              "application/problem+json": {
                "schema": {
                  "$ref": "#/components/schemas/ProblemDetails"
                }
              }
            }
          }
        }
      }
    },
    "/notifications/summary": {
      "get": {
        "tags": [
          "Notifications"
        ],
        "summary": "Get notifications summary",
        "description": "Searchable period is the last 31 days",
        "operationId": "NotificationsSummary",
        "parameters": [
          {
            "name": "from",
            "in": "query",
            "description": "ISO 8609 UTC only",
            "required": true,
            "schema": {
              "type": "string",
              "format": "date-time"
            },
            "example": "2025-09-10T11:08:48Z"
          },
          {
            "name": "to",
            "in": "query",
            "description": "ISO 8609 UTC only",
            "required": true,
            "schema": {
              "type": "string",
              "format": "date-time"
            },
            "example": "2025-09-11T11:08:48Z"
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/NotificationsSummaryResponse"
                }
              }
            }
          },
          "400": {
            "description": "Bad Request",
            "content": {
              "application/problem+json": {
                "schema": {
                  "$ref": "#/components/schemas/ProblemDetails"
                }
              }
            }
          },
          "500": {
            "description": "Internal Server Error",
            "content": {
              "application/problem+json": {
                "schema": {
                  "$ref": "#/components/schemas/ProblemDetails"
                }
              }
            }
          }
        }
      }
    },
    "/notifications/buckets": {
      "get": {
        "tags": [
          "Notifications"
        ],
        "summary": "Get notifications buckets by day or hour",
        "description": "Searchable period is the last 31 days",
        "operationId": "NotificationsBuckets",
        "parameters": [
          {
            "name": "from",
            "in": "query",
            "description": "ISO 8609 UTC only",
            "required": true,
            "schema": {
              "type": "string",
              "format": "date-time"
            },
            "example": "2025-09-10T11:08:48Z"
          },
          {
            "name": "to",
            "in": "query",
            "description": "ISO 8609 UTC only",
            "required": true,
            "schema": {
              "type": "string",
              "format": "date-time"
            },
            "example": "2025-09-11T11:08:48Z"
          },
          {
            "name": "unit",
            "in": "query",
            "description": "\"hour\" or \"day\"",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/NotificationsSummaryResponseBucketResponseBucketsResponse"
                }
              }
            }
          },
          "400": {
            "description": "Bad Request",
            "content": {
              "application/problem+json": {
                "schema": {
                  "$ref": "#/components/schemas/ProblemDetails"
                }
              }
            }
          },
          "500": {
            "description": "Internal Server Error",
            "content": {
              "application/problem+json": {
                "schema": {
                  "$ref": "#/components/schemas/ProblemDetails"
                }
              }
            }
          }
        }
      }
    },
    "/last-received": {
      "get": {
        "tags": [
          "Status Information"
        ],
        "summary": "Get last received",
        "operationId": "LastReceived",
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/LastReceivedResponse"
                }
              }
            }
          },
          "400": {
            "description": "Bad Request",
            "content": {
              "application/problem+json": {
                "schema": {
                  "$ref": "#/components/schemas/ProblemDetails"
                }
              }
            }
          },
          "500": {
            "description": "Internal Server Error",
            "content": {
              "application/problem+json": {
                "schema": {
                  "$ref": "#/components/schemas/ProblemDetails"
                }
              }
            }
          }
        }
      }
    }
  },
  "components": {
    "schemas": {
      "BucketsResponse": {
        "type": "object",
        "properties": {
          "releases": {
            "allOf": [
              {
                "$ref": "#/components/schemas/ReleasesSummaryResponseBucketResponseBucketsResponse"
              }
            ]
          },
          "matches": {
            "allOf": [
              {
                "$ref": "#/components/schemas/MatchesSummaryResponseBucketResponseBucketsResponse"
              }
            ]
          },
          "clearanceRequests": {
            "allOf": [
              {
                "$ref": "#/components/schemas/ClearanceRequestsSummaryBucketResponseBucketResponseBucketsResponse"
              }
            ]
          },
          "notifications": {
            "allOf": [
              {
                "$ref": "#/components/schemas/NotificationsSummaryResponseBucketResponseBucketsResponse"
              }
            ]
          }
        },
        "additionalProperties": false
      },
      "ClearanceRequestsSummaryBucketResponse": {
        "type": "object",
        "properties": {
          "unique": {
            "type": "integer",
            "format": "int32"
          }
        },
        "additionalProperties": false
      },
      "ClearanceRequestsSummaryBucketResponseBucketResponse": {
        "type": "object",
        "properties": {
          "bucket": {
            "type": "string",
            "format": "date-time"
          },
          "summary": {
            "allOf": [
              {
                "$ref": "#/components/schemas/ClearanceRequestsSummaryBucketResponse"
              }
            ],
            "nullable": true
          }
        },
        "additionalProperties": false
      },
      "ClearanceRequestsSummaryBucketResponseBucketResponseBucketsResponse": {
        "type": "object",
        "properties": {
          "buckets": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/ClearanceRequestsSummaryBucketResponseBucketResponse"
            }
          }
        },
        "additionalProperties": false
      },
      "ClearanceRequestsSummaryResponse": {
        "type": "object",
        "properties": {
          "unique": {
            "type": "integer",
            "format": "int32"
          },
          "total": {
            "type": "integer",
            "format": "int32"
          }
        },
        "additionalProperties": false
      },
      "LastReceivedMessageResponse": {
        "type": "object",
        "properties": {
          "timestamp": {
            "type": "string",
            "format": "date-time"
          },
          "reference": {
            "type": "string"
          }
        },
        "additionalProperties": false
      },
      "LastReceivedResponse": {
        "type": "object",
        "properties": {
          "finalisation": {
            "allOf": [
              {
                "$ref": "#/components/schemas/LastReceivedMessageResponse"
              }
            ],
            "nullable": true
          },
          "request": {
            "allOf": [
              {
                "$ref": "#/components/schemas/LastReceivedMessageResponse"
              }
            ],
            "nullable": true
          }
        },
        "additionalProperties": false
      },
      "MatchesSummaryResponse": {
        "type": "object",
        "properties": {
          "match": {
            "type": "integer",
            "format": "int32"
          },
          "noMatch": {
            "type": "integer",
            "format": "int32"
          },
          "total": {
            "type": "integer",
            "format": "int32"
          }
        },
        "additionalProperties": false
      },
      "MatchesSummaryResponseBucketResponse": {
        "type": "object",
        "properties": {
          "bucket": {
            "type": "string",
            "format": "date-time"
          },
          "summary": {
            "allOf": [
              {
                "$ref": "#/components/schemas/MatchesSummaryResponse"
              }
            ],
            "nullable": true
          }
        },
        "additionalProperties": false
      },
      "MatchesSummaryResponseBucketResponseBucketsResponse": {
        "type": "object",
        "properties": {
          "buckets": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/MatchesSummaryResponseBucketResponse"
            }
          }
        },
        "additionalProperties": false
      },
      "NotificationsSummaryResponse": {
        "type": "object",
        "properties": {
          "chedA": {
            "type": "integer",
            "format": "int32"
          },
          "chedP": {
            "type": "integer",
            "format": "int32"
          },
          "chedPp": {
            "type": "integer",
            "format": "int32"
          },
          "chedD": {
            "type": "integer",
            "format": "int32"
          },
          "total": {
            "type": "integer",
            "format": "int32"
          }
        },
        "additionalProperties": false
      },
      "NotificationsSummaryResponseBucketResponse": {
        "type": "object",
        "properties": {
          "bucket": {
            "type": "string",
            "format": "date-time"
          },
          "summary": {
            "allOf": [
              {
                "$ref": "#/components/schemas/NotificationsSummaryResponse"
              }
            ],
            "nullable": true
          }
        },
        "additionalProperties": false
      },
      "NotificationsSummaryResponseBucketResponseBucketsResponse": {
        "type": "object",
        "properties": {
          "buckets": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/NotificationsSummaryResponseBucketResponse"
            }
          }
        },
        "additionalProperties": false
      },
      "ProblemDetails": {
        "type": "object",
        "properties": {
          "type": {
            "type": "string",
            "nullable": true
          },
          "title": {
            "type": "string",
            "nullable": true
          },
          "status": {
            "type": "integer",
            "format": "int32",
            "nullable": true
          },
          "detail": {
            "type": "string",
            "nullable": true
          },
          "instance": {
            "type": "string",
            "nullable": true
          }
        },
        "additionalProperties": { }
      },
      "ReleasesSummaryResponse": {
        "type": "object",
        "properties": {
          "automatic": {
            "type": "integer",
            "format": "int32"
          },
          "manual": {
            "type": "integer",
            "format": "int32"
          },
          "total": {
            "type": "integer",
            "format": "int32"
          }
        },
        "additionalProperties": false
      },
      "ReleasesSummaryResponseBucketResponse": {
        "type": "object",
        "properties": {
          "bucket": {
            "type": "string",
            "format": "date-time"
          },
          "summary": {
            "allOf": [
              {
                "$ref": "#/components/schemas/ReleasesSummaryResponse"
              }
            ],
            "nullable": true
          }
        },
        "additionalProperties": false
      },
      "ReleasesSummaryResponseBucketResponseBucketsResponse": {
        "type": "object",
        "properties": {
          "buckets": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/ReleasesSummaryResponseBucketResponse"
            }
          }
        },
        "additionalProperties": false
      },
      "SummaryResponse": {
        "type": "object",
        "properties": {
          "releases": {
            "allOf": [
              {
                "$ref": "#/components/schemas/ReleasesSummaryResponse"
              }
            ]
          },
          "matches": {
            "allOf": [
              {
                "$ref": "#/components/schemas/MatchesSummaryResponse"
              }
            ]
          },
          "clearanceRequests": {
            "allOf": [
              {
                "$ref": "#/components/schemas/ClearanceRequestsSummaryResponse"
              }
            ]
          },
          "notifications": {
            "allOf": [
              {
                "$ref": "#/components/schemas/NotificationsSummaryResponse"
              }
            ]
          }
        },
        "additionalProperties": false
      }
    },
    "securitySchemes": {
      "Basic": {
        "type": "http",
        "description": "RFC8725 Compliant JWT",
        "scheme": "Basic"
      }
    }
  },
  "security": [
    {
      "Basic": [ ]
    }
  ]
}